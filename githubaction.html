<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Sample Page" href="test.html" /><link rel="prev" title="Ben Barksdale Demo Static Site" href="index.html" />

    <!-- Generated with Sphinx 5.3.0 and Furo 2022.12.07 -->
        <title>GitHub Actions in Docs-as-Code - Ben Barksdale Demo Sphinx documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=91d0f0d1c444bdcb17a68e833c7a53903343c195" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Ben Barksdale Demo Sphinx  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">Ben Barksdale Demo Sphinx  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">GitHub Actions in Docs-as-Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Sample Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="another.html">Another File</a></li>
<li class="toctree-l1"><a class="reference internal" href="yetanother.html">Yet Another Test Page</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="github-actions-in-docs-as-code">
<h1>GitHub Actions in Docs-as-Code<a class="headerlink" href="#github-actions-in-docs-as-code" title="Permalink to this heading">#</a></h1>
<p><em>Page written in reStructuredText</em></p>
<section id="introduction-to-state-site-generators">
<h2>Introduction to State Site Generators<a class="headerlink" href="#introduction-to-state-site-generators" title="Permalink to this heading">#</a></h2>
<p>The purpose of static site generators is two-fold:</p>
<ul class="simple">
<li><p>To allow uses to write in a simple, lightweight markup language (typically Markdown or reStructuredText)</p></li>
<li><p>To render that simple markup text into attractive, stylized HTML files</p></li>
</ul>
<p>The beauty of static site generators is that, after some initial setup, the process is reduced to a single command line statement, like the one I use to build the HTML for this site on my local machine:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx</span><span class="o">-</span><span class="n">build</span> <span class="o">-</span><span class="n">b</span> <span class="n">html</span> <span class="n">docs</span><span class="o">/</span> <span class="n">docs</span><span class="o">/</span><span class="n">_build</span>
</pre></div>
</div>
<p>As you can see, this statement only requires one to specify the source for the markup files, the destination of the outputs, and the format of those outputs.</p>
</section>
<section id="shortcoming-of-static-site-generators">
<h2>Shortcoming of Static Site Generators<a class="headerlink" href="#shortcoming-of-static-site-generators" title="Permalink to this heading">#</a></h2>
<p>While convenient in many ways, static site generators are not perfect on their own.</p>
<p>For example, imagine you are building a documentation template that will be used by a large team. You want everyone to write in the Markdown or reStructuredText files you’ve built, and you want everyone to render those files into HTML when finished. Finally, you want them to host those HTML files as a GitHub Pages site that is attached to their code repository.</p>
<p>You’re not worried about the team writing in Markdown. But you don’t want to worry about everyone rendering the files into HTML, a process many of them may be unfamiliar with. What if they don’t remember to add the rendered files into the correct output destination? What if they forget to add that required <code class="docutils literal notranslate"><span class="pre">-b</span></code> flag?</p>
<p>As a technical writer, you want to support your team, but you also want to make <em>your</em> life easier, too. Every time you ask others to perform manual processes, you’re introducing a risk that others will come to you for help with those processes. How can you minimize the chances of that happening, allowing you to focus on more important tasks?</p>
</section>
<section id="github-actions-a-ci-cd-tool">
<h2>GitHub Actions, a CI/CD Tool<a class="headerlink" href="#github-actions-a-ci-cd-tool" title="Permalink to this heading">#</a></h2>
<p>Generally, it’s a good idea to reduce the number of times users have to do the same action manually. Automation is almost always preferable. With the HTML build process, we have an excellent candidate for automation. But how do we do it?</p>
<p>The answer is <a class="reference external" href="https://github.com/features/actions">GitHub Actions</a>.</p>
<p>Introduced a few years back, GitHub Actions is a mechanism that can be used to automate workflows. It’s grown to become a key function for many teams’ <a class="reference external" href="https://www.redhat.com/en/topics/devops/what-is-ci-cd">continuous integration, continuous deployment (CI/CD)</a>.</p>
<p>Under the hood, GitHub Actions works by receiving directions you write in a <code class="docutils literal notranslate"><span class="pre">.yml</span></code> file, which you post within your code repository under a <code class="docutils literal notranslate"><span class="pre">./.github/workflows</span></code> subdirectory. This file provides instructions for instantiating and directing a <a class="reference external" href="https://www.vmware.com/topics/glossary/content/virtual-machine.html">virtual machine</a>.</p>
</section>
<section id="using-a-github-action-in-a-docs-as-code-deployment">
<h2>Using a GitHub Action in a Docs-as-Code Deployment<a class="headerlink" href="#using-a-github-action-in-a-docs-as-code-deployment" title="Permalink to this heading">#</a></h2>
<p>For our purposes, GitHub Actions is valuable because it can be used to automate the HTML build process and commit that content to your GitHub repository.</p>
<p>The best part? It’s super simple.</p>
<p>This page was built using a GitHub Action I put together in 20 minutes. You can find that <code class="docutils literal notranslate"><span class="pre">.yml</span></code> file <a class="reference external" href="https://github.com/redsoxfan0219/sphinx-action-test/blob/main/.github/workflows/docs_pages.yaml">here</a>. I’ve also reproduced the contents of that file below.</p>
</section>
<section id="explanation-of-the-github-action-yml">
<h2>Explanation of the GitHub Action .YML<a class="headerlink" href="#explanation-of-the-github-action-yml" title="Permalink to this heading">#</a></h2>
<p>Below are the contents of the file I wrote for my GitHub Action. I provide a walkthrough of the contents further down.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>name: docs_pages_render

on:
  push:
    branches:
      - main

jobs:

  build_docs_job:
    runs-on: ubuntu-latest
    env:
      GITHUB_PAT: $ {{ secrets.GITHUB_TOKEN }}

    steps:
      - name: Check out the main branch to the VM
        uses: actions/checkout@v2.3.4

      - name: Set up Python in the VM
        uses: actions/setup-python@v2.2.1
        with:
          python-version: 3.9

      - name: Install dependencies
        run: |
          python -m pip install sphinx
          python -m pip install furo
          python -m pip install myst-parser
          python -m pip install sphinx_togglebutton
          python -m pip install sphinx-copybutton
      - name: Render HTML
        run:
          sphinx-build -b html docs/ docs/_build

      - name: Set up temporary repository and commit to HTML files
        run: |
          cd docs/_build
          git init
          touch .nojekyll
          git add .
          git config --local user.email &quot;action@github.com&quot;
          git config --local user.name &quot;GitHub Action&quot;
          git commit -m &#39;Deploy rendered HTML&#39;

      - name: Push rendered HTML to destination branch
        uses: ad-m/github-push-action@v0.6.0
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          branch: gh-pages
          force: true
          directory: ./docs/_build
</pre></div>
</div>
<p>Here are the steps performed as a result of the <code class="docutils literal notranslate"><span class="pre">.yml</span></code> file above:</p>
<ol class="arabic simple">
<li><p>When the repository’s event monitor detects a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code> to the <code class="docutils literal notranslate"><span class="pre">main</span> <span class="pre">branch</span></code>, GitHub stands up a Linux (with Ubuntu distribution) virtual machine (VM).</p></li>
<li><p>The VM checks out the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch of the repository.</p></li>
<li><p>The VM sets up Python v3.9.</p></li>
<li><p>The VM downloads (via <code class="docutils literal notranslate"><span class="pre">pip</span></code>) all necessary dependencies to build the HTML files.These dependencies are all outlined in the repository’s <code class="docutils literal notranslate"><span class="pre">docs/conf.py</span></code> file.</p></li>
<li><p>The VM renders the HTML from the reStructuredText and Markdown files.</p></li>
<li><p>The VM changes directory into the <code class="docutils literal notranslate"><span class="pre">_build</span></code> output directory.</p></li>
<li><p>The VM initiates a Git repository within the <code class="docutils literal notranslate"><span class="pre">_build</span></code> output directory.</p></li>
<li><p>The VM stages and commits the newly rendered HTML files, using a default git commit message.</p></li>
<li><p>Finally, the VM pushes the committed files back to my repository and deploys the HTML to the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch.</p></li>
</ol>
<p>And voilà! We have our rendered and deployed HTML (which you are now viewing).</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="test.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Sample Page</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Home</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Ben Barksdale
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">GitHub Actions in Docs-as-Code</a><ul>
<li><a class="reference internal" href="#introduction-to-state-site-generators">Introduction to State Site Generators</a></li>
<li><a class="reference internal" href="#shortcoming-of-static-site-generators">Shortcoming of Static Site Generators</a></li>
<li><a class="reference internal" href="#github-actions-a-ci-cd-tool">GitHub Actions, a CI/CD Tool</a></li>
<li><a class="reference internal" href="#using-a-github-action-in-a-docs-as-code-deployment">Using a GitHub Action in a Docs-as-Code Deployment</a></li>
<li><a class="reference internal" href="#explanation-of-the-github-action-yml">Explanation of the GitHub Action .YML</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    </body>
</html>